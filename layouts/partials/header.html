{{ if .IsHome }}
  {{ if .Site.Params.homeTitle }}
    {{ $.Scratch.Set "title" .Site.Params.homeTitle }}
  {{ else }}
    {{ $.Scratch.Set "title" .Site.Title }}
  {{ end }}
{{ else }}
  {{ $.Scratch.Set "title" .Title }}
{{ end }}

{{ $title := $.Scratch.Get "title" }}
{{ if $title }}
  <header class="{{ .Type }}-header">
    {{ if eq .Type "list" }}
      <h1>{{ if .Data.Singular }}#{{ end }}{{ .Title }}</h1>
    {{ else }}
      <h1>{{ with $title }}{{.}}{{ else }}<br/>{{ end }}</h1>
    {{ end }}

    {{ partial "nav.html" . }}
  </header>
{{ else }}
  <header></header>
{{ end }}
